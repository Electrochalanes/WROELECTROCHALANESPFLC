from gpiozero import Motor
from gpiozero import AngularServo
from time import sleep
from gpiozero import DistanceSensor


sensor = DistanceSensor(echo=6, trigger=5,  max_distance=2)
motor = Motor(forward=22, backward=27)

direccion = AngularServo(18,min_pulse_width=0.5/1000,max_pulse_width=2.5/1000, frame_width=20/1000)

while True:
    distance = sensor.distance
    print(f"Distancia: {distance:.2f} m")
    if distance < 0.75:  
        motor.forward(speed=1)
        direccion.angle = -49
        sleep(0.3)
    else:
        motor.forward(speed=0.8)
        direccion.angle = 0
    sleep(0.1)  
   #  if cv2.waitKey(1) & 0xFF == ord('q'):
   #     break
